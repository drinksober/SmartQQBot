# encoding: utf-8

import requests

url = "http://127.0.0.1:8888/postreceive"

payload = "{\n  \"ref\": \"refs/heads/master\",\n  \"before\": \"3682eee3ad12779eb776336b2f6291153a79a6c9\",\n  \"after\": \"5c53f8b73697ca5ec833a8f00005ccbfea331d6c\",\n  \"created\": false,\n  \"deleted\": false,\n  \"forced\": false,\n  \"base_ref\": null,\n  \"compare\": \"https://github.com/drinksober/qq_webhook/compare/3682eee3ad12...5c53f8b73697\",\n  \"commits\": [\n    {\n      \"id\": \"5c53f8b73697ca5ec833a8f00005ccbfea331d6c\",\n      \"tree_id\": \"2b0964c8768ca5011a82b82742920babb5e68c54\",\n      \"distinct\": true,\n      \"message\": \"add: add github hooks\",\n      \"timestamp\": \"2017-10-12T23:24:47+08:00\",\n      \"url\": \"https://github.com/drinksober/qq_webhook/commit/5c53f8b73697ca5ec833a8f00005ccbfea331d6c\",\n      \"author\": {\n        \"name\": \"drinks\",\n        \"email\": \"drinksober@foxmail.com\",\n        \"username\": \"drinksober\"\n      },\n      \"committer\": {\n        \"name\": \"drinks\",\n        \"email\": \"drinksober@foxmail.com\",\n        \"username\": \"drinksober\"\n      },\n      \"added\": [\n\n      ],\n      \"removed\": [\n\n      ],\n      \"modified\": [\n        \"src/app.py\"\n      ]\n    }\n  ],\n  \"head_commit\": {\n    \"id\": \"5c53f8b73697ca5ec833a8f00005ccbfea331d6c\",\n    \"tree_id\": \"2b0964c8768ca5011a82b82742920babb5e68c54\",\n    \"distinct\": true,\n    \"message\": \"add: add github hooks\",\n    \"timestamp\": \"2017-10-12T23:24:47+08:00\",\n    \"url\": \"https://github.com/drinksober/qq_webhook/commit/5c53f8b73697ca5ec833a8f00005ccbfea331d6c\",\n    \"author\": {\n      \"name\": \"drinks\",\n      \"email\": \"drinksober@foxmail.com\",\n      \"username\": \"drinksober\"\n    },\n    \"committer\": {\n      \"name\": \"drinks\",\n      \"email\": \"drinksober@foxmail.com\",\n      \"username\": \"drinksober\"\n    },\n    \"added\": [\n\n    ],\n    \"removed\": [\n\n    ],\n    \"modified\": [\n      \"src/app.py\"\n    ]\n  },\n  \"repository\": {\n    \"id\": 104235272,\n    \"name\": \"qq_webhook\",\n    \"full_name\": \"drinksober/qq_webhook\",\n    \"owner\": {\n      \"name\": \"drinksober\",\n      \"email\": \"drinksober@foxmail.com\",\n      \"login\": \"drinksober\",\n      \"id\": 9531900,\n      \"avatar_url\": \"https://avatars2.githubusercontent.com/u/9531900?v=4\",\n      \"gravatar_id\": \"\",\n      \"url\": \"https://api.github.com/users/drinksober\",\n      \"html_url\": \"https://github.com/drinksober\",\n      \"followers_url\": \"https://api.github.com/users/drinksober/followers\",\n      \"following_url\": \"https://api.github.com/users/drinksober/following{/other_user}\",\n      \"gists_url\": \"https://api.github.com/users/drinksober/gists{/gist_id}\",\n      \"starred_url\": \"https://api.github.com/users/drinksober/starred{/owner}{/repo}\",\n      \"subscriptions_url\": \"https://api.github.com/users/drinksober/subscriptions\",\n      \"organizations_url\": \"https://api.github.com/users/drinksober/orgs\",\n      \"repos_url\": \"https://api.github.com/users/drinksober/repos\",\n      \"events_url\": \"https://api.github.com/users/drinksober/events{/privacy}\",\n      \"received_events_url\": \"https://api.github.com/users/drinksober/received_events\",\n      \"type\": \"User\",\n      \"site_admin\": false\n    },\n    \"private\": false,\n    \"html_url\": \"https://github.com/drinksober/qq_webhook\",\n    \"description\": \"基于SmartQQ的自动机器人框架\",\n    \"fork\": true,\n    \"url\": \"https://github.com/drinksober/qq_webhook\",\n    \"forks_url\": \"https://api.github.com/repos/drinksober/qq_webhook/forks\",\n    \"keys_url\": \"https://api.github.com/repos/drinksober/qq_webhook/keys{/key_id}\",\n    \"collaborators_url\": \"https://api.github.com/repos/drinksober/qq_webhook/collaborators{/collaborator}\",\n    \"teams_url\": \"https://api.github.com/repos/drinksober/qq_webhook/teams\",\n    \"hooks_url\": \"https://api.github.com/repos/drinksober/qq_webhook/hooks\",\n    \"issue_events_url\": \"https://api.github.com/repos/drinksober/qq_webhook/issues/events{/number}\",\n    \"events_url\": \"https://api.github.com/repos/drinksober/qq_webhook/events\",\n    \"assignees_url\": \"https://api.github.com/repos/drinksober/qq_webhook/assignees{/user}\",\n    \"branches_url\": \"https://api.github.com/repos/drinksober/qq_webhook/branches{/branch}\",\n    \"tags_url\": \"https://api.github.com/repos/drinksober/qq_webhook/tags\",\n    \"blobs_url\": \"https://api.github.com/repos/drinksober/qq_webhook/git/blobs{/sha}\",\n    \"git_tags_url\": \"https://api.github.com/repos/drinksober/qq_webhook/git/tags{/sha}\",\n    \"git_refs_url\": \"https://api.github.com/repos/drinksober/qq_webhook/git/refs{/sha}\",\n    \"trees_url\": \"https://api.github.com/repos/drinksober/qq_webhook/git/trees{/sha}\",\n    \"statuses_url\": \"https://api.github.com/repos/drinksober/qq_webhook/statuses/{sha}\",\n    \"languages_url\": \"https://api.github.com/repos/drinksober/qq_webhook/languages\",\n    \"stargazers_url\": \"https://api.github.com/repos/drinksober/qq_webhook/stargazers\",\n    \"contributors_url\": \"https://api.github.com/repos/drinksober/qq_webhook/contributors\",\n    \"subscribers_url\": \"https://api.github.com/repos/drinksober/qq_webhook/subscribers\",\n    \"subscription_url\": \"https://api.github.com/repos/drinksober/qq_webhook/subscription\",\n    \"commits_url\": \"https://api.github.com/repos/drinksober/qq_webhook/commits{/sha}\",\n    \"git_commits_url\": \"https://api.github.com/repos/drinksober/qq_webhook/git/commits{/sha}\",\n    \"comments_url\": \"https://api.github.com/repos/drinksober/qq_webhook/comments{/number}\",\n    \"issue_comment_url\": \"https://api.github.com/repos/drinksober/qq_webhook/issues/comments{/number}\",\n    \"contents_url\": \"https://api.github.com/repos/drinksober/qq_webhook/contents/{+path}\",\n    \"compare_url\": \"https://api.github.com/repos/drinksober/qq_webhook/compare/{base}...{head}\",\n    \"merges_url\": \"https://api.github.com/repos/drinksober/qq_webhook/merges\",\n    \"archive_url\": \"https://api.github.com/repos/drinksober/qq_webhook/{archive_format}{/ref}\",\n    \"downloads_url\": \"https://api.github.com/repos/drinksober/qq_webhook/downloads\",\n    \"issues_url\": \"https://api.github.com/repos/drinksober/qq_webhook/issues{/number}\",\n    \"pulls_url\": \"https://api.github.com/repos/drinksober/qq_webhook/pulls{/number}\",\n    \"milestones_url\": \"https://api.github.com/repos/drinksober/qq_webhook/milestones{/number}\",\n    \"notifications_url\": \"https://api.github.com/repos/drinksober/qq_webhook/notifications{?since,all,participating}\",\n    \"labels_url\": \"https://api.github.com/repos/drinksober/qq_webhook/labels{/name}\",\n    \"releases_url\": \"https://api.github.com/repos/drinksober/qq_webhook/releases{/id}\",\n    \"deployments_url\": \"https://api.github.com/repos/drinksober/qq_webhook/deployments\",\n    \"created_at\": 1505922179,\n    \"updated_at\": \"2017-09-20T15:50:35Z\",\n    \"pushed_at\": 1507821902,\n    \"git_url\": \"git://github.com/drinksober/qq_webhook.git\",\n    \"ssh_url\": \"git@github.com:drinksober/qq_webhook.git\",\n    \"clone_url\": \"https://github.com/drinksober/qq_webhook.git\",\n    \"svn_url\": \"https://github.com/drinksober/qq_webhook\",\n    \"homepage\": \"\",\n    \"size\": 851,\n    \"stargazers_count\": 0,\n    \"watchers_count\": 0,\n    \"language\": \"Python\",\n    \"has_issues\": false,\n    \"has_projects\": true,\n    \"has_downloads\": true,\n    \"has_wiki\": true,\n    \"has_pages\": false,\n    \"forks_count\": 0,\n    \"mirror_url\": null,\n    \"open_issues_count\": 0,\n    \"forks\": 0,\n    \"open_issues\": 0,\n    \"watchers\": 0,\n    \"default_branch\": \"master\",\n    \"stargazers\": 0,\n    \"master_branch\": \"master\"\n  },\n  \"pusher\": {\n    \"name\": \"drinksober\",\n    \"email\": \"drinksober@foxmail.com\"\n  },\n  \"sender\": {\n    \"login\": \"drinksober\",\n    \"id\": 9531900,\n    \"avatar_url\": \"https://avatars2.githubusercontent.com/u/9531900?v=4\",\n    \"gravatar_id\": \"\",\n    \"url\": \"https://api.github.com/users/drinksober\",\n    \"html_url\": \"https://github.com/drinksober\",\n    \"followers_url\": \"https://api.github.com/users/drinksober/followers\",\n    \"following_url\": \"https://api.github.com/users/drinksober/following{/other_user}\",\n    \"gists_url\": \"https://api.github.com/users/drinksober/gists{/gist_id}\",\n    \"starred_url\": \"https://api.github.com/users/drinksober/starred{/owner}{/repo}\",\n    \"subscriptions_url\": \"https://api.github.com/users/drinksober/subscriptions\",\n    \"organizations_url\": \"https://api.github.com/users/drinksober/orgs\",\n    \"repos_url\": \"https://api.github.com/users/drinksober/repos\",\n    \"events_url\": \"https://api.github.com/users/drinksober/events{/privacy}\",\n    \"received_events_url\": \"https://api.github.com/users/drinksober/received_events\",\n    \"type\": \"User\",\n    \"site_admin\": false\n  }\n}"

headers = {
    'content-type': "application/json",
    'x-github-event': "push",
    'x-github-delivery': "845da0f6-af61-11e7-9409-20c02a1b0517",
    'cache-control': "no-cache",
    'postman-token': "9d6f88ea-44f0-aa1d-6b83-31acf4c0ccae"
}
import json
payload = json.dumps(payload)

response = requests.post(url, data=payload, headers=headers)

print(response.text)
